<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="view_ingram">
			<field name="name">sale.order.form.inherit</field>
			<field name="model">sale.order</field>
			<field name="inherit_id" ref="sale_layout.view_order_form_inherit_1"/>
			<field name="type">form</field>
			<field name="arch" type="xml">
			<field name="abstract_line_ids" colspan="4" nolabel="1" widget="one2many_list" position="replace">
			    <field name="abstract_line_ids" colspan="4" nolabel="1" widget="one2many_list">
							<form string="Sale Order Lines">
								<notebook>
	                                <page string="Order Line">
										<separator colspan="4" string="Automatic Declaration"/>
										<field colspan="4"
					                        context="partner_id=parent.partner_id,quantity=product_uom_qty,pricelist=parent.pricelist_id,shop=parent.shop_id,uom=product_uom"
					                        name="product_id"
					                        attrs="{'readonly':[('layout_type','!=','article')]}"
					                        on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, 'lang' in context and context['lang'], True, parent.date_order, product_packaging, parent.fiscal_position)"
					                        select="1"/>
					                    <field
					                        context="partner_id=parent.partner_id,quantity=product_uom_qty,pricelist=parent.pricelist_id,shop=parent.shop_id,uom=product_uom"
					                        name="product_uom_qty"
					                        attrs="{'readonly':[('layout_type','!=','article')]}"
					                        on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, 'lang' in context and context['lang'], False, parent.date_order, product_packaging, parent.fiscal_position)"
					                        select="1"/>
					                    <field name="product_uom"
					                  		 required="0"
					                    	attrs="{'readonly':[('layout_type','!=','article')],  'required':[('layout_type','not in',['title','text','subtotal','line','break'])]}"
					                        on_change="product_uom_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, 'lang' in context and context['lang'], False, parent.date_order)"/>
					                    <field
					                        name="product_packaging"
					                        attrs="{'readonly':[('layout_type','!=','article')]}"
					                        context="partner_id=parent.partner_id,quantity=product_uom_qty,pricelist=parent.pricelist_id,shop=parent.shop_id,uom=product_uom"
					                        on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, 'lang' in context and context['lang'], False, parent.date_order, product_packaging, parent.fiscal_position)"
					                        domain="[('product_id','=',product_id)]"
					                        groups="base.group_extended"/>
					                    <separator colspan="4" string="Manual Description" />
					                    <field name="layout_type" on_change="onchange_sale_order_line_view(layout_type)"/>
					                    <field name="sequence" string="Seq."/>
					                    <field colspan="4" name="name" select="2" attrs="{'readonly':[('layout_type','in',('line','break'))] }"/>
					                    <field name="price_unit" select="2" attrs="{'readonly':[('layout_type','!=','article')],'required':[('layout_type','not in',['title','text','subtotal','line','break'])]}"/>
					                    <field name="discount" attrs="{'readonly':[('layout_type','!=','article')]}"/>
					                    <field name="stockingr"/>
					                    <field name="type" attrs="{'readonly':[('layout_type','!=','article')]}"/>
					                    <field name="delay" select="2" attrs="{'readonly':[('layout_type','!=','article')]}"/>
					                    <field colspan="4" name="tax_id" domain="[('parent_id','=',False)]" attrs="{'readonly':[('layout_type','!=','article')]}"/>
					                    <separator colspan="4" string="States"/>
                                        <field name="state" select="2"/>
                                        <group col="3" colspan="2">
                                            <field name="invoiced" select="2"/>
                                            <button colspan="1" name="%(sale.action_view_sale_order_line_make_invoice)d" states="confirmed" string="Make Invoice" type="action"/>
                                        </group>
                                    </page>
                                    <page groups="base.group_extended" string="Extra Info">
										<field groups="product.group_uos" name="product_uos_qty" on_change="uos_change(product_uos, product_uos_qty, product_id)"/>
										<field groups="product.group_uos" name="product_uos"/>
										<field name="address_allotment_id" select="2"/>
										<separator colspan="4" string="Properties"/>
										<field colspan="4" name="property_ids" nolabel="1"/>
                                    </page>
                                    <page string="Notes">
                                        <field colspan="4" name="notes" nolabel="1"/>
                                    </page>
                                    <page string="History" groups="base.group_extended">
                                        <separator colspan="4" string="Invoice Lines"/>
                                        <field colspan="4" name="invoice_lines" nolabel="1"/>
                                        <separator colspan="4" string="Stock Moves"/>
                                        <field colspan="4" name="move_ids" nolabel="1" widget="many2many"/>
                                    </page>
                                </notebook>
							</form>
					<tree string="Sales order lines" colors="red:verif=='3';green:verif=='2';blue:verif=='1'">
                        <field name="sequence" string="SÃ©quence"/>
                        <field name="name"/>
                        <field name="product_uom_qty" string="Qty"/>
                        <field name="product_uom" string="UoM"/>
                        <field name="discount"/>
                        <field name="stockingr" />
                        <field name="price_unit"/>
                        <field name="price_subtotal"/>
                        <field name="verif" invisible="1"/>
                    </tree>
					</field>
			    </field>   
                <button name="%(sale.action_view_sale_advance_payment_inv)d" string="Advance Invoice" type="action" icon="gtk-execute" states="draft,manual" groups="base.group_extended" position="before">
                <button name="button_check" states="draft" string="Price Availabilty" type="object" icon="gtk-execute"/>
              </button>
            </field>
		</record>
		
		<record model="ir.ui.view" id="view_picking_form_ingram">
            <field name="name">stock.picking.in.form.inherit</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_in_form"/>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<button name="draft_force_assign" states="draft" string="Process Later" type="object" icon="gtk-ok" position="after">
                        <button name="button_status" string="Status" type="object" icon="gtk-execute"/>
                </button>
				<page string="Notes" position="after">
                    <page string="History command">
                        <field colspan="3" name="history_lineb" nolabel="1" widget="one2many_list">
                            <tree string="History command">
	                            <field name="date" />
		                        <field name="datemaj" />
		                        <field name="description" />
		                   </tree>
		               </field>
	         		</page>
                </page>
			</field>
        </record>
        
        <record model="ir.ui.view" id="product_normal_form_view_vpn" >
            <field name="name">product.normal.form.inherit</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="type">form</field>
            <field name="arch" type="xml">            	            
	            <field name="ean13" groups="base.group_extended" position="after">
	            	 <field name="vpn"/>
	            </field>
	            <field name="name" position="after">
                	 <field name="manufacturer"/>
                </field>
	        </field>            
         </record>

        <record model="ir.ui.view" id="product_search_form_view_ingram" >
            <field name="name">product.search.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_search_form_view"/>
            <field name="type">search</field>
            <field name="arch" type="xml">                
                   <field name="name" position="after">
                        <field name="manufacturer" />
                        <field name="vpn"/>
                   </field>
            </field>
        </record>

    </data>
</openerp>